spring:
  application:
    name: financial-app
  profiles:
    active: dev

  # 数据源配置
  datasource:
    url: jdbc:mysql://localhost:3306/financial_app?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000

  # JPA 配置
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
    open-in-view: false

  # Redis 配置
  data:
    redis:
      host: localhost
      port: 6379
      password:
      database: 0
      timeout: 5000
      lettuce:
        pool:
          max-active: 8
          max-wait: -1
          max-idle: 8
          min-idle: 0

# 服务器配置
server:
  port: 8080
  servlet:
    context-path: /api

# 应用配置
app:
  jwt:
    # HS512 要求密钥至少 512 位（64 字节）
    # 此密钥为 128 字节（1024 位），符合安全规范
    secret: Fk9mP2vQ7xJ4nR8cW3dY6gB1hV5sE9tL0zM4uC7kA2iO5pS8jT1zN6wX3qD7bG4vH0rY5fK2nU8eP6aC9lI3sZ1oE5wM7tR0jV4bH8xQ2cN6yF9kG3pL7dS0iW4zE5uM9tR8jV2cX6yN3bP5kG0qL8dS1iW4zE5uM9tR8jV2cX6yN3bP5kG0qL8dS1i
    expiration: 86400000  # 24小时，单位毫秒
    refresh-expiration: 604800000  # 7天
  cors:
    allowed-origins: http://localhost:3000,http://localhost:5173
    allowed-methods: GET,POST,PUT,DELETE,OPTIONS
    allowed-headers: "*"
    allow-credentials: true
    max-age: 3600
  upload:
    location: ./uploads  # 文件上传存储路径
    url-prefix: /uploads  # 文件访问URL前缀
    max-file-size: 5242880  # 最大文件大小（5MB）

# RSA加密配置
rsa:
  # RSA公钥（用于前端加密密码）
  public-key: |
    -----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtSgCWQB/H14/bqbV7NJhsmkmDKW35v9+hV936UfjA2C/b3HY9qMn+tnM77/9YxudI0exrKPhMCAYdlolgwV3vSJfQmO9HCvZl52vLV3z9TCJsyfeDO5N1IJYr/rlpvdMdMLw1EH28QVFo7zQ0kNJHQIoqFNcb1rHmQbbJiJjXzoZhF3eXJ6iSSi1Px58hfebJIhBDHv/F/Dmxa8HWwIkY/nbt4vSWulE+nQb+eO2nicpZiE8hEu6nIEK7eW9uWy+GAuMJoGCEnANz4zqgK9IV4DHrnN5kLraCXsvk9+jZkxZ4a2zODHzWv+F+UA0u7mk4h/O8/ehjJGMKcHiTkMr4QIDAQAB
    -----END PUBLIC KEY-----

  # RSA私钥（用于后端解密密码）
  private-key: |
    MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC1KAJZAH8fXj9uptXs0mGyaSYMpbfm/36FX3fpR+MDYL9vcdj2oyf62czvv/1jG50jR7Gso+EwIBh2WiWDBXe9Il9CY70cK9mXna8tXfP1MImzJ94M7k3Ugliv+uWm90x0wvDUQfbxBUWjvNDSQ0kdAiioU1xvWseZBtsmImNfOhmEXd5cnqJJKLU/HnyF95skiEEMe/8X8ObFrwdbAiRj+du3i9Ja6UT6dBv547aeJylmITyES7qcgQrt5b25bL4YC4wmgYIScA3PjOqAr0hXgMeuc3mQutoJey+T36NmTFnhrbM4MfNa/4X5QDS7uaTiH87z96GMkYwpweJOQyvhAgMBAAECggEARo78yxmsadVVs417yS/wKYNW9JofVPOyndQfalc7jndCWO/o57eIvOXUMpV+5fk9bR5hj7KM5Se7H23hKnUYvCwFGmCqqaxSpgEe1/a+LIPpPkSK8lJnMhxK2tBIXo3304qSLro6qom5JBtI4nyen5PVrio52I1tLKdE+EdwmQfoBVtyDmLZoqbrby4aVhgCmHn5E9C0MQxP+f6A3+Cs6Wmd91zzJsLTkxjKTCid+hGJb46NES6CV59hIOYZppUbdHvco5RAm9Vz6EjVzr/vx0CQcesf1KHM7l7IqXISE/6oPd6Wm6aV8wRy+NQQ3x3qPMoRbyq07sNv4fn+a8CwOQKBgQC2GamltImJf5PBQL8/WniCR4FVaBI2hAUKIWxUTD7MkAK/adbjLxmsFTPoiJzzZ/ybT/w4CYEYbEZ6hDq6DtFBGW3gnSU49Mq7ntx3Xq9phxCI08cwmXNparB/md8NYFYlWenI6Qu0sos+SZCvTmVIQaqxiXs/YAm5cjJlDWLvEwKBgQD+rEdkgUf71CWXH8sTU7WRU6Tr8frIVvClPQmQy3kZv2aJ82BifMPhSRiDJLS4EpF1GnUK5qCjDLBWSC3OkOzxftVW+kxMKeuv4jcJsTIrpPgpU79NcPl6m4FOEj66/U8zOKX2w0Xrmha1q+JfBjQddQdlQFKU5+iTik+ZwiNzuwKBgQCuIZodL6d5iTp0SQLYhR3JjrD5R5xq7xGWn2Fktsgyet91xLLM6gRFjrzldoWHKH/g0Lqhp00AWsGGdJ1nv7WP584vRHYMoeCfSwkNSMi6Q4KnJMRMD+DSBEikrDIkK2QVMYaiLV+ZOkZ2mIg3auLlFo4wWQQ3FRIXeEECaquZawKBgQDO7yXDoNjg42z38zmLpsUuJQ0pOyJPj3VSjtoq8WqhZUjoZv22iTKQ6Fgml7jQqSXQRYM9LFDyq+jM8zFlW5VsVWb8mb1NVfLQo7udAIKHvDB5RDd5sYbF/X1/9otKXXHxaOJSNDGoUziIvfXeyKeoF+O+fhmcLSRqXkR356vu6QKBgGFpPz3Mw0DSbz50npB3nPR3Z6uI8R93Td89MBvVcxxFFMGyoePq3ONs/4riOH/23wO6jJRywunMlSn8QMYwtPuT+NQwDALaAUl2ROzKSJPu5b+T5K8STXEtdqBdoEpIVxkSujtQP3Tv7QBbR4TePr79pMOpMxY6bmgoAP9hZkod


# 日志配置
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{36}) - %msg%n"
  level:
    root: INFO
    com.financialapp: DEBUG
    com.financialapp.filter: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# SpringDoc 配置
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
  packages-to-scan: com.financialapp.controller

